# Инструкция по импорту товаров из PDF инвойса

## Быстрый старт

1. **Поместите PDF файл** `(Julia) -balance.pdf` в папку `vital/`

2. **Запустите парсинг PDF:**
   ```bash
   cd /Users/ADMIN/Vital/vital
   node scripts/parse-invoice-pdf.js "(Julia) -balance.pdf"
   ```
   
   Это извлечет данные из PDF и обновит файл `PARSED_INVOICE.txt`

3. **Запустите импорт товаров:**
   ```bash
   npm run import-invoice
   ```
   
   Скрипт:
   - ✅ Удалит все существующие товары
   - ✅ Загрузит данные из `PARSED_INVOICE.txt`
   - ✅ Создаст новые товары с остатками из инвойса (не 999!)
   - ✅ Переведет названия на русский язык
   - ✅ Рассчитает цены по формуле: `цена_из_инвойса * курс * мультипликатор`

## Что делает скрипт парсинга

- Извлекает текст из PDF файла
- Находит товары по SKU (например, FS1002-24)
- Извлекает описание, количество, цену и сумму
- Группирует товары с одинаковым SKU (суммирует количество)
- Сохраняет данные в `PARSED_INVOICE.txt` в формате:
  ```
  SKU|Description|Qty|Rate|Amount
  ```

## Настройки импорта

Перед импортом убедитесь, что в админ-панели настроены:
- **Курс обмена** (exchangeRate) - по умолчанию 2.45
- **Мультипликатор цены** (priceMultiplier) - по умолчанию 8

Формула расчета цены: `цена_продажи = цена_из_инвойса * курс * мультипликатор`

## Формат данных

Файл `PARSED_INVOICE.txt` должен содержать данные в формате:
```
# Данные инвойса в формате: SKU|Description|Qty|Rate|Amount

FS1002-24|Rudis Oleum Botanical Face Care Night Formula 24 G|20|453.86|9077.20
FS0001-24|Natural Balance Face Serum 24 G|6|348.72|2092.32
...
```

## Важно

- ⚠️ Все существующие товары будут **удалены** перед импортом
- ⚠️ Остатки товаров берутся **из инвойса**, а не устанавливаются в 999
- ⚠️ Импорт может занять несколько минут из-за перевода названий через AI

