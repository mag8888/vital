# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å –¥–µ–ø–ª–æ–µ–º –Ω–∞ Railway

## ‚ùå –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã, –ø–æ—á–µ–º—É –∫–æ–¥ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:

### 1. **Railway –Ω–µ –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ Railway Dashboard ‚Üí Deployments
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ push
- –ï—Å–ª–∏ –¥–µ–ø–ª–æ—è –Ω–µ—Ç ‚Üí Railway –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç webhook –æ—Ç GitHub

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub webhook –≤ Railway
- –ò–ª–∏ –≤—Ä—É—á–Ω—É—é –Ω–∞–∂–º–∏—Ç–µ "Redeploy" –≤ Railway Dashboard

### 2. **–û—à–∏–±–∫–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–±–æ—Ä–∫–∏**
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ Railway Dashboard ‚Üí Deployments ‚Üí View Logs
- –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞:
  - `tsc: command not found`
  - `prisma: command not found`
  - `npm ERR!`
  - `TypeScript compilation errors`

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `typescript` –∏ `prisma` –≤ `devDependencies`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `buildCommand` –≤ `railway.json` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### 3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ Prisma**
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –í –ª–æ–≥–∞—Ö –¥–µ–ø–ª–æ—è –∏—â–∏—Ç–µ –æ—à–∏–±–∫–∏:
  - `Error: P1001: Can't reach database server`
  - `Error: Migration failed`
  - `Error: Prisma schema validation failed`

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL` –≤ Railway Variables
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `migrate:deploy` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ `prisma:generate`

### 4. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏**
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
- –ò–ª–∏ –æ—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ (`Ctrl+Shift+R`)

**–†–µ—à–µ–Ω–∏–µ:**
- –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Railway –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–ª –ø—Ä–æ–µ–∫—Ç

### 5. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è buildCommand**
**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```json
{
  "buildCommand": "npm install && npm run prisma:generate && npm run migrate:deploy && npm run build"
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ `package.json`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

### 6. **Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞**
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –°—Ä–∞–≤–Ω–∏—Ç–µ –∫–æ–º–º–∏—Ç –≤ Railway Dashboard —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º –∫–æ–º–º–∏—Ç–æ–º –≤ GitHub
- –ï—Å–ª–∏ –∫–æ–º–º–∏—Ç—ã –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç ‚Üí Railway –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
- –í Railway Dashboard –Ω–∞–∂–º–∏—Ç–µ "Redeploy"
- –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–∞ –¥–µ–ø–ª–æ—è

### 7. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏**
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –í –ª–æ–≥–∞—Ö –¥–µ–ø–ª–æ—è –∏—â–∏—Ç–µ:
  - `npm ERR!`
  - `peer dependency warnings`
  - `package-lock.json conflicts`

**–†–µ—à–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–∏—Ç–µ `package-lock.json`: `npm install`
- –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `package-lock.json`

### 8. **–û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ TypeScript**
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –í –ª–æ–≥–∞—Ö –¥–µ–ø–ª–æ—è –∏—â–∏—Ç–µ:
  - `error TS2300: Duplicate identifier`
  - `error TS1005: ',' expected`
  - `error TS18047: 'user' is possibly 'null'`

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ TypeScript
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ: `npm run build`

### 9. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –í Railway Dashboard ‚Üí Variables
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
  - `DATABASE_URL`
  - `BOT_TOKEN`
  - `ADMIN_PASSWORD`
  - –ò –¥—Ä—É–≥–∏–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π

### 10. **Healthcheck –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç**
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/health` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ï—Å–ª–∏ healthcheck –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç ‚Üí Railway —Å—á–∏—Ç–∞–µ—Ç –¥–µ–ø–ª–æ–π –Ω–µ—É–¥–∞—á–Ω—ã–º

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ä–æ—É—Ç `/health` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `healthcheckTimeout` –≤ `railway.json`

## üîß –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
```bash
# –í Railway Dashboard ‚Üí Deployments
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–ø–ª–æ—è
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
```bash
# –í Railway Dashboard ‚Üí Deployments ‚Üí View Logs
# –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–±–æ—Ä–∫–∏
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–º–∏—Ç
```bash
# –°—Ä–∞–≤–Ω–∏—Ç–µ –∫–æ–º–º–∏—Ç –≤ Railway —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º –∫–æ–º–º–∏—Ç–æ–º –≤ GitHub
git log --oneline plazma/main -1
```

### –®–∞–≥ 4: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–¥–µ–ø–ª–æ–π
```bash
# –í Railway Dashboard ‚Üí Deployments ‚Üí Redeploy
# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç:
echo "$(date)" > DEPLOY_TRIGGER.txt
git add DEPLOY_TRIGGER.txt
git commit -m "trigger: –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π"
git push plazma main
```

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:

- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ `plazma/main`
- [ ] Railway –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é (`mag8888/plazma`)
- [ ] Railway –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≤–µ—Ç–∫–µ (`main`)
- [ ] `railway.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `buildCommand`
- [ ] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `package.json` –∏ `package-lock.json`
- [ ] TypeScript –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (`npm run build`)
- [ ] Prisma –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- [ ] –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ Railway
- [ ] Healthcheck endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç (`/health`)
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö –¥–µ–ø–ª–æ—è

## üö® –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway** - —Ç–∞–º –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–æ—á–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏
2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π –≤—Ä—É—á–Ω—É—é** - Railway Dashboard ‚Üí Deployments ‚Üí Redeploy
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub webhook** - Railway –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ push
4. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Railway** - –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è

