# Скрипт для переноса фотографий товаров

Этот скрипт собирает и обновляет фотографии всех товаров с сайта [Siam Botanicals](https://siambotanicals.com/shop/).

## Что делает скрипт:

1. ✅ Собирает все товары со всех страниц магазина Siam Botanicals
2. ✅ Находит соответствующие товары в базе данных по названию
3. ✅ Заходит на страницу каждого товара для получения изображения высокого качества
4. ✅ Загружает изображения на Cloudinary (если настроен) или использует прямые URL
5. ✅ Обновляет изображения в базе данных для ВСЕХ товаров (включая те, у которых уже есть фото)

## Запуск скрипта:

### На Railway (рекомендуется - все переменные окружения настроены):
```bash
railway run npm run scrape-all-images-now
```

Или через веб-интерфейс Railway:
1. Зайдите в ваш проект на Railway
2. Откройте вкладку "Deployments"
3. Нажмите на три точки рядом с последним деплоем
4. Выберите "Run Command"
5. Введите команду: `npm run scrape-all-images-now`
6. Нажмите "Run"

### Локально (если настроены переменные окружения):
```bash
npm run scrape-all-images-now
```

Этот скрипт автоматически:
- Компилирует TypeScript код
- Запускает сбор всех фотографий товаров

## Важно:

- Скрипт обновит изображения для всех товаров, включая те, у которых уже есть фото
- Процесс может занять некоторое время (в зависимости от количества товаров)
- Между запросами есть задержки, чтобы не перегружать сервер
- Если Cloudinary не настроен, будут использоваться прямые URL изображений

## Переменные окружения:

- `DATABASE_URL` - URL базы данных (обязательно)
- `CLOUDINARY_CLOUD_NAME` - имя облака Cloudinary (опционально)
- `CLOUDINARY_API_KEY` - API ключ Cloudinary (опционально)
- `CLOUDINARY_API_SECRET` - секретный ключ Cloudinary (опционально)

