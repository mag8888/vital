# üö® –°–†–û–ß–ù–û: –î–µ–ø–ª–æ–π Plazma API

## ‚ùå –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞

–í –ª–æ–≥–∞—Ö Vital –≤–∏–¥–Ω–æ:
```
‚ö†Ô∏è /products endpoint not found, trying /catalog...
‚ùå Plazma API error: 404 Not Found
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í–Ω–µ—à–Ω–∏–π API –¥–ª—è Plazma –µ—â–µ –Ω–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Railway.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –ó–∞–π–¥–∏—Ç–µ –≤ Railway Dashboard
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://railway.app/
2. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç **Plazma** (–∏–ª–∏ –ø—Ä–æ–µ–∫—Ç, –≥–¥–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç Plazma)

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Variables** (–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   ```
   EXTERNAL_API_KEY=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–∑–¥–µ—Å—å
   ```
   ‚ö†Ô∏è **–í–ê–ñ–ù–û:** –≠—Ç–æ—Ç –∫–ª—é—á –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å `PLAZMA_API_KEY` –≤ –ø—Ä–æ–µ–∫—Ç–µ Vital!

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Vital
–í –ø—Ä–æ–µ–∫—Ç–µ Vital –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
```
PLAZMA_API_KEY=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–∑–¥–µ—Å—å
PLAZMA_API_URL=https://plazma-production.up.railway.app/api/external
```

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç Plazma
1. –í Railway Dashboard –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç Plazma
2. –ù–∞–∂–º–∏—Ç–µ **Redeploy** –∏–ª–∏ **Restart**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è (2-3 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –≤ –ª–æ–≥–∞—Ö Plazma –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞.

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ —á–µ—Ä–µ–∑ curl:

```bash
curl -X GET "https://plazma-production.up.railway.app/api/external/catalog?region=RUSSIA" \
  -H "X-API-Key: –≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á"
```

–ï—Å–ª–∏ API —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ JSON —Å –¥–∞–Ω–Ω—ã–º–∏. –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway.

## üìù –ß–µ–∫–ª–∏—Å—Ç

- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `EXTERNAL_API_KEY` –≤ –ø—Ä–æ–µ–∫—Ç Plazma –Ω–∞ Railway
- [ ] –ö–ª—é—á —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `PLAZMA_API_KEY` –≤ –ø—Ä–æ–µ–∫—Ç–µ Vital
- [ ] –ü—Ä–æ–µ–∫—Ç Plazma –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- [ ] –í –ª–æ–≥–∞—Ö Plazma –Ω–µ—Ç –æ—à–∏–±–æ–∫
- [ ] API –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ curl –∏–ª–∏ –±—Ä–∞—É–∑–µ—Ä)
- [ ] –í –ª–æ–≥–∞—Ö Vital –∏—Å—á–µ–∑–ª–∞ –æ—à–∏–±–∫–∞ 404

## üÜò –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –ø—Ä–æ–µ–∫—Ç–∞ Plazma** - –≤–æ–∑–º–æ–∂–Ω–æ, –æ–Ω –∏–∑–º–µ–Ω–∏–ª—Å—è
   - –û–±–Ω–æ–≤–∏—Ç–µ `PLAZMA_API_URL` –≤ –ø—Ä–æ–µ–∫—Ç–µ Vital, –µ—Å–ª–∏ URL –¥—Ä—É–≥–æ–π

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway** –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Plazma
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–¥ –∑–∞–¥–µ–ø–ª–æ–µ–Ω**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã `src/api/external.ts` –∏ `src/lib/prisma.ts` –µ—Å—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ `src/server.ts` –ø–æ–¥–∫–ª—é—á–µ–Ω —Ä–æ—É—Ç–µ—Ä `/api/external`

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   - `EXTERNAL_API_KEY` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
   - `DATABASE_URL` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π

## ‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

–í –ª–æ–≥–∞—Ö Vital –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
‚úÖ Plazma API response: Found X products
```

–í–º–µ—Å—Ç–æ:
```
‚ùå Plazma API error: 404 Not Found
```

–¢–æ–≤–∞—Ä—ã –∏–∑ Plazma –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ —Å–µ–∫—Ü–∏–∏ "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º" –Ω–∞ —Å–∞–π—Ç–µ Vital.













