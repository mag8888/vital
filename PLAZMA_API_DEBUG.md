# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Plazma API - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Vital

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ curl):
```
https://–≤–∞—à-–¥–æ–º–µ–Ω/webapp/api/plazma/test
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON:
```json
{
  "success": true,
  "apiKeyConfigured": true,
  "apiUrl": "https://plazma-production.up.railway.app/api/external",
  "apiKeyPreview": "abc123..."
}
```

–ï—Å–ª–∏ `apiKeyConfigured: false` - –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://–≤–∞—à-–¥–æ–º–µ–Ω/webapp/api/plazma/products?limit=5
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON —Å —Ç–æ–≤–∞—Ä–∞–º–∏:
```json
{
  "success": true,
  "products": [...]
}
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Plazma API –Ω–∞–ø—Ä—è–º—É—é

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ curl –∏–ª–∏ Postman:

```bash
curl -X GET "https://plazma-production.up.railway.app/api/external/products?region=RUSSIA&limit=5" \
  -H "X-API-Key: –≤–∞—à-api-–∫–ª—é—á"
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

–û—Ç–∫—Ä–æ–π—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –Ω–∞–π–¥–∏—Ç–µ –∑–∞–ø–∏—Å–∏:
- `üîó Fetching Plazma products from:` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç URL –∑–∞–ø—Ä–æ—Å–∞
- `üîë Using API key:` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ –∫–ª—é—á
- `üì¶ Plazma API response:` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞
- `‚úÖ Parsed X products` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

–û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console –∏ –Ω–∞–π–¥–∏—Ç–µ:
- `üõí Loading products from Plazma API...`
- `üì° Response status:`
- `üì¶ Response from backend:`
- `‚úÖ Loaded X products from Plazma API`

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: API –∫–ª—é—á –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–°–∏–º–ø—Ç–æ–º—ã:**
- `apiKeyConfigured: false` –≤ —Ç–µ—Å—Ç–æ–≤–æ–º endpoint
- –û—à–∏–±–∫–∞ `503` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Ç–æ–≤–∞—Ä–æ–≤
- –í –ª–æ–≥–∞—Ö: `‚ö†Ô∏è Plazma API key not configured`

**–†–µ—à–µ–Ω–∏–µ:**
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
PLAZMA_API_KEY=–≤–∞—à-–∫–ª—é—á-–∑–¥–µ—Å—å
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API –∫–ª—é—á

**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ `401 Unauthorized`
- –í –ª–æ–≥–∞—Ö: `‚ùå Plazma API error: 401`

**–†–µ—à–µ–Ω–∏–µ:**
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∫–ª—é—á–æ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Plazma.

### –ü—Ä–æ–±–ª–µ–º–∞ 3: API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ `500` –∏–ª–∏ `503`
- –¢–∞–π–º-–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –í –ª–æ–≥–∞—Ö: `‚ùå Error fetching Plazma products:`

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `https://plazma-production.up.railway.app/api/external`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏/firewall

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –¢–æ–≤–∞—Ä—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
- –ù–æ —Ç–æ–≤–∞—Ä—ã –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –°–µ–∫—Ü–∏—è "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º" —Å–∫—Ä—ã—Ç–∞

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –í –ª–æ–≥–∞—Ö: `‚úÖ Parsed X products` - –µ—Å–ª–∏ 0, —Ç–æ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ—Ç
2. –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞: `‚úÖ Loaded X products from Plazma API`
3. –°—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ API - –≤–æ–∑–º–æ–∂–Ω–æ —Ñ–æ—Ä–º–∞—Ç –¥—Ä—É–≥–æ–π

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–æ –Ω–µ –ø–∞—Ä—Å—è—Ç—Å—è
- –í –ª–æ–≥–∞—Ö: `dataLength: 'not array'`

**–†–µ—à–µ–Ω–∏–µ:**
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞. API –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å:
```json
{
  "success": true,
  "data": [...]
}
```

–ò–ª–∏ –º—ã –æ–±—Ä–∞–±–æ—Ç–∞–µ–º –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
curl https://–≤–∞—à-–¥–æ–º–µ–Ω/webapp/api/plazma/test
```

### –¢–µ—Å—Ç 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
```bash
curl https://–≤–∞—à-–¥–æ–º–µ–Ω/webapp/api/plazma/products?limit=3
```

### –¢–µ—Å—Ç 3: –ü—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ Plazma
```bash
curl -X GET "https://plazma-production.up.railway.app/api/external/products?region=RUSSIA&limit=3" \
  -H "X-API-Key: –≤–∞—à-–∫–ª—é—á"
```

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `PLAZMA_API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
2. ‚úÖ –ö–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Plazma)
3. ‚úÖ URL API –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: `https://plazma-production.up.railway.app/api/external`
4. ‚úÖ –°–µ—Ä–≤–µ—Ä Plazma –¥–æ—Å—Ç—É–ø–µ–Ω
5. ‚úÖ –í –ª–æ–≥–∞—Ö –µ—Å—Ç—å –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—Ä–æ—Å–∞—Ö

## –õ–æ–≥–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ:
- `üîó Fetching Plazma products from:` - URL –∑–∞–ø—Ä–æ—Å–∞
- `üîë Using API key:` - —Å—Ç–∞—Ç—É—Å –∫–ª—é—á–∞
- `üì¶ Plazma API response:` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞
- `‚ùå` - –ª—é–±—ã–µ –æ—à–∏–±–∫–∏

–í—Å–µ —ç—Ç–∏ –∑–∞–ø–∏—Å–∏ –ø–æ–º–æ–≥—É—Ç –ø–æ–Ω—è—Ç—å, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞.




